import React, { Component } from 'react';
import { SafeAreaView, StyleSheet, ScrollView,TextInput, Text,Pressable, Switch } from 'react-native';
import {Picker} from '@react-native-picker/picker';
import { styles } from './styles';

class App extends Component{

  
   constructor(props){
      super(props);
      this.state = {
        valor: '',
         sexo: 0,
          sexos: [
            {nome: 'Masculino'},
            {nome: 'Feminino'}
                 ],
        escolaridade: 0,
          nivel: [
            {nome: 'Não alfabetizado'},
            {nome: 'Fundamental incompleto'},
            {nome: 'Fundamental completo'},
            {nome: 'Médio incompleto'},
            {nome: 'Ensino médio completo'},
            {nome: 'Superior incompleto'},
            {nome: 'Superior completo'},
            {nome: 'Pós-graduação'},
            {nome: 'Mestrado'},
            {nome: 'Doutorado'}
              ]

     };
    
     this.entrar = this.entrar.bind(this);
     
  }

  entrar(){
    this.setState({
      exibirNome: this.state.nome ,
      exibirIdade: this.state.idade,
      exibirSexo: this.state.sexos[this.state.sexo].nome,
      exibirLimite:"R$ "+ this.state.limite.toFixed(2)
    });

  }
  

 
  render(){
    let sexoItem = this.state.sexos.map( (valor, chave) => {
      return <Picker.Item key={chave} value={chave} label={valor.nome} />
    })
    let escolaridadeItem = this.state.nivel.map( (valor, chave) => {
      return <Picker.Item key={chave} value={chave} label={valor.nome} />
    })
    return(
      <SafeAreaView style={styles.container}>
       <ScrollView>
     <Text style={styles.titulo}> Conversor de Moedas Dólar, Real e Euro </Text>
    
     <Text style={styles.texto}>
        Valor:
      </Text>
      <TextInput keyboardType='numeric'
        style={styles.input} 
        onChangeText={(texto) => this.setState({valor: texto})}
     />
      
       <Text style={styles.texto}>
       De:
      </Text>
      <Picker style={styles.combobox} selectedValue={this.state.sexo}
      onValueChange={ (itemValue, itemIndex) => this.setState({sexo: itemValue}) }
      >
             {sexoItem}
 
      </Picker>
    
      <Text style={styles.texto}>
       Para:
      </Text>
      <Picker style={styles.picker} itemStyle={styles.pickerItem} selectedValue={this.state.escolaridade}
      onValueChange={ (itemValue, itemIndex) => this.setState({escolaridade: itemValue}) }
      >
             {escolaridadeItem}
 
      </Picker>
      
      <Pressable style={styles.botao} onPress={this.entrar} >
            <Text style={styles.textoBotao}>Confirmar</Text>   
      </Pressable>
 
      
      <Text style={styles.titulo2}>
       Resultado:
      </Text>
     
      <Text style={styles.texto}>
       Limite:  {this.state.exibirLimite}
      </Text>
      
      </ScrollView>
      </SafeAreaView>
    );
  }
}


export default App;